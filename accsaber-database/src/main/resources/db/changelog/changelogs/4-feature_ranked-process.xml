<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd">
  <changeSet id="ranked_map-to-beat_map" author="ixsen">
    <renameTable oldTableName="ranked_map" newTableName="beat_map"/>
    <renameColumn tableName="beat_map" oldColumnName="techyness" newColumnName="complexity"/>
    <addColumn tableName="beat_map">
      <column name="ranked_stage" defaultValue="RANKED" type="VARCHAR(255)"/>
    </addColumn>
    <addColumn tableName="beat_map">
      <column name="map_type" defaultValue="TRUE_ACC" type="VARCHAR(255)"/>
    </addColumn>
    <update tableName="beat_map">
      <column name="map_type" value="STANDARD_ACC"/>
      <where>complexity &gt; 4 and complexity &lt; 10</where>
    </update>
    <update tableName="beat_map">
      <column name="map_type" value="TECH_ACC"/>
      <where>complexity &gt; 9</where>
    </update>
  </changeSet>
</databaseChangeLog>
